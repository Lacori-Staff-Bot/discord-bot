# Верификация

## Команды

### 1. Настройка гендр ролей (админ)

Команда имеет два типа:
1. Установить настройки
2. Сбросить настройки

При сбросе/изменении имеющихся настроек гендр ролей, бот проверяет наличие раньше установленных гендр ролей на сервере и в случае нахождения снимает их у всех пользователей сервера.

При сбросе настроек команда выдачи гендр ролей переходит в состояние технического обслуживания и будет выдавать ошибки настройки системы до установления новых настроек.

При установке первых настроек системы гендр ролей или при последующей установке настроек после их сброса команда выдачи гендр ролей переходит в рабочее состояние.

### 2. Выдача/смена гендр роли (стаф)

Команда принимает 2 аргумента
- Пользователя которому нужно выдать/сменить гендер роль
- Гендер пользователя для выдачи соответствующей роли

В случае если гендр система не была настроена или была сброщена команда выдаёт ошибку, что она не доступна на сервере.

В случае если гендр система настроена, команда проверяет пользователя из аргумента на наличие активных гендр ролей. В случае если гендр роль уже имеется, либо она будет заменена на новую, либо команда выдаст ошибку, что роль уже выдана пользователю. В ином случае гендр роль будет выдана.

# Стаф команды

## Команды

### 1. Бан/Разбан
Команда имеет два типа:
1. Выдача бана

Команда имеет два обязательных параметра:
- Пользователь которого необходимо забанить
- Причина выдачи бана

При использовании команды бот проверяет наличие активных банов у пользователя и возможность взаимодействия с пользователем.

В случае если активных банов нет и с пользователем можно взаимодействовать будет создана запись об активном бане, а пользователь будет отстранён на 1 день и 1 час и получит уведомление о выдаче бана в личные сообщения.

В случае наличия активных баннов или невозможности взаимодействия с пользователем команда вернёт ошибку использования.

В случае активной системы аудита будет создано сообщение о выдаче бана.

В случае актвной системы ограничений будет создана отметка о приминении команды, которая будет активна 5 минут.

2. Снятие бана
Команда принимает один обязательный параметр:
- Пользователь с которого необходимо снять бан

В случае наличия активного бана бот изменит его статус на отменёный и снимет отстранение с пользователя.

В случае отсутствия активного бана команда вернёт ошибку использования.

В случае активной системы аудита будет создано сообщение о снятии бана.

---
К сообщению о выдаче бана прикрепляется кнопка для снятия бана.

В случае если в течении 24 часов после выдачи бана он не будет снят пользователь будет забанен системно.

### 2. Мут/Размут
Команда имеет два типа:
1. Выдача мута

Команда имеет три обязательных параметра:
- Пользователь которого необходимо отстранить
- Время отстранения
- Причина отстранения

При использовании команды бот проверяет возможность взаимодействия с пользователем.

В случае отсутствия активного мута и с пользователем можно взаимодействовать, пользователь будет отстранён и получит уведомление о выдаче мута.

В случае активной системы аудита будет создано сообщение о выдаче бана.

В случае актвной системы ограничений будет создана отметка о приминении команды, которая будет активна 5 минут.

2. Снятие мута

Команда принимает один обязательный параметр:
- Пользователь с которого необходимо снять отстранение

В случае наличия активного мута, пользователь будет восстановлен в возможности общаться и получит уведомление о снятии мута.

В случае активной системы аудита будет создано сообщение о выдаче бана.

---
К сообщению о выдаче мута прикрепляется кнопка для снятия мута.

### 3. Варн/Анварн
Команда имеет три обязательных параметра:
- Пользователь которому необходимо выдать варн
- Причина варна

При использовании команды бот проверяет наличие активных варнов и возможность взаимодействия с пользователем.

В случае отсутствия активных варнов и с пользователем можно взаимодействовать, будет создана запись об активном варне.

В случае наличия двух активных варнов будет добавлена запись о третьем активном варне, а пользователь будет отстранён на сутки.

В случае активной системы аудита будет создано сообщение о выдаче бана.

В случае актвной системы ограничений будет создана отметка о приминении команды, которая будет активна 5 минут.

---
К сообщению о выдаче варна прикрепляется кнопка для снятия варна.

К сообщению о выдаче бана прикрепляется кнопка для снятия бана.

В случае если в течении 24 часов после выдачи бана он не будет снят пользователь будет забанен системно.

Варн автоматически снимается системой через неделю после выдачи.

### 4. Пред
Команда имеет два типа:
1. Настройка канала предупреждений

Команда имеет один необязательный параметр:
- Канал предупреждений

При использовании команды бот проверяет имеется ли на сервере уже установленный канал предупреждений.

В случае если в команду передан параметр канала и на сервере нет уже установленного канала предупреждений или до этого был установлен другой канал бот изменит канал на переданный.

В случае если в команду не был передан параметр канала и на сервере есть уже установленный канал предупреждений бот сбросит его в системе.

2. Выдача предупреждений

Команда имеет два обязательных параметра:
- Пользователь, которому необходимо выдать предупреждение
- Причина предупреждения

При использовании команды бот проверяет имеется ли на сервере установленный канал предупреждений.

В случае если канал предупреждений не установлен бот выдаст ошибку о том что система предупреждений не доступна.

В случае наличия канала бот создаст в нём запись о предупреждении и отправит пользователю уведомление о получении предупреждения.

В случае актвной системы ограничений будет создана отметка о приминении команды, которая будет активна 5 минут.

# Антислив система (админ)

## Команды

### 1. Аудит (админ)
Команда имеет один необязательный параметр от которого определяется её тип.
Параметр принимает на вход канал для сообщений аудита.

В случае отправки команды с параметром канала система аудита будет активирована, а отправленный канал будет использоваться для создания записей аудита.

### 2. Ограничения стаф команд (админ)
Команда имеет четыре типа:
1. Установка настроек ограничений

Команда принимает на вход 4 не обязательных параметра:
- Канал для отправки сигналов о превышении ограничения
- Максимальное количество банов в течении 5 минут
- Максимальное количество мутов в течении 5 минут
- Максимальное количество варнов в течении 5 минут
- Максимальное количество предупов в течении 5 минут

В случае если при использовании команды не был передан параметр канала или вовсе не было передано ниодного параметра команда будет распознана как команда сброса настроек ограничений.

В случае если был передан только параметр канала команда будет распознана как команда смены канала если есть активные настройки ограничений или как команда сброса если активных настроек нет.

В случае если система ограничений активна, было совершено превышение того или иного ограничения, у пользователя превысевшего ограничение будет активирован запретный режим и он не сможет использовать команды до решения завереной на данный случай администрации. В канал для отправки сигналов, в случае его наличия на сервере, будет отправлена запись о совершённом превышении с кнопкой снятия запретного режима, в случае отсутствия данного канала, сигнал о совершённом превышении будет отправлен владельцу сервера.

2. Выдача права на обход ограничений

Команда принимает на вход один обязательный параметр роли, которой необходимо выдать право на обход ограничений.

В случае выдачи данного права абсолютно все ограничения на использование команд распространняться на пользователя не будут.

3. Изъятие права на обход ограничений

Команда принимает на вход один обязательный параметр роли, у которой необходимо изъять право на обход ограничений.

4. Изъятие всех прав на обход ограничений

? Шаблон восстановления

# Репорт система

## Команды

1. Команда инициализации
2. Команда/Эвент удаления связки